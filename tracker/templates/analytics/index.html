{% extends 'tracker/header.html'%}

{% load bootstrap3 %}


{% block body %}

    <div class="container expense-analysis">
        <div class="analysis-menu">
            <ul class="nav nav-tabs">
                  <li class="nav-item">
                    <a class="annually nav-link active" href="#">Annual Report</a>
                  </li>
                  <li class="nav-item">
                    <a class="monthly nav-link" href="#">Monthly Report</a>
                  </li>
                </ul>
        </div>

        <canvas id="myChart" width="500" height="250"></canvas>
    </div>


    <script>
        var ctx = document.getElementById("myChart").getContext('2d');
        var isShowScales = {% if report_type != 'pie' %}true{% else %}false {% endif %};
        var dataset;
        var myChart = new Chart(ctx, {
            type: '{{report_type}}',
            data: {
                labels: {{ labels | safe }},
                datasets: {{ datasets | safe}}
            },
            options: {
                responsive: true,
                title: {
                    display: true,
                    text: '{{ title }}'
                },
                tooltips: {
                    mode: 'index',
                    intersect: false,
                },
                hover: {
                    mode: 'nearest',
                    intersect: true
                }
                ,
                scales: {
                    xAxes: [{
                        display: isShowScales,
                        scaleLabel: {
                            display: isShowScales,
                            labelString: 'Month'
                        }
                    }],
                    yAxes: [{
                        display: isShowScales,
                        scaleLabel: {
                            display: isShowScales,
                            labelString: 'Amount'
                        }
                    }]
                }
            }
        });
    </script>
{% endblock %}


